# 資料結構實習[Week8-堆疊與佇列]

-----

## 作業注意事項
- 作業要求檔名為`學號-HW2&amp;3.zip`
    - 改為`學號-HW2,3.zip`
    - 請各位同學改一下名稱，這此作業分數加10分(不會超過100)

-----

## [堆疊與佇列傳送門](https://hackmd.io/FKTwbq_FSXK4bWFNq0wUBg)
## 中序轉後序（上一次的部分）
- ==遇到 (== ：加入至堆疊。
- ==遇到運算子==：比較堆疊內頂端之運算子優先權，若堆疊內頂端之運算子優先權較大則輸出，最後將該運算子加入堆疊。
    - 運算子： (、) 、 + 、 - 、 * 、 / 、 % 。
    - 運算元：單一數字之整數或一個字元之變數 。
    - 優先權順序(參考正課簡報P.37)
- ==遇到 ) 輸出至 (==。
- ==若為運算元則直接輸出==。
- 最後將堆疊內所有運算子輸出。
## 中序轉前序
- 可利用兩個堆疊，一個放運算子、另一個放運算元
- 遇到 ==()時的做法== 與 ==運算子的權重==，基本都與轉後續相同
- 而當遇到運算子堆疊內的==優先權較大==的運算子時，與==兩個運算元==堆疊內的值結合再放回去

> EX:a-b*c+d

| 運算式進度  | 運算元堆疊 | 運算子堆疊 | 補充 |
|:--------- | :---: | --- | :--- |
| `a`-b*c+d | $a$ | NULL | 遇到運算元 a 載入 |
| a`-`b*c+d | $a$ | - | 遇到運算子 - 載入 |
| a-`b`*c+d | $ab$ | - | 遇到運算元 b 載入 |
| a-b`*`c+d | $ab$ | -、* | * 優先度比 - 大，故放入|
| a-b*`c`+d | $abc$ | -、* | 遇到運算元 c 載入 |
| a-b*c`+`d | $a*bc$ | - | * 優先度比 + 大，將 $bc$ 取出， 存為 $*bc$ 後放入|
| a-b*c`+`d | $-a*bc$ | + | - 優先度等於 +，將 $a*bc$ 取出， 存為 $-a*bc$ 後放入|
| a-b*c+`d` | $-a*bcd$ | + | 遇到運算元 d 載入 |
| a-b*c+d | $+-a*bcd$ | NULL | 剩下最後一個運算子 +， 將 $-a*bcd$ 取出， 存為 $+-a*bcd$ 後放入|

------
## 課堂練習
### 1.後序計算
&gt; 輸入n個後序排列的算式，請算出結果
:::info
1. 只會有 +、-、*、/、(、) 的運算符號
2. 事前有幾個運算式是未知的，直到輸入0結束
3. ASCII 48~57 =&gt; 0~9
:::
輸入
```
輸入：642-/4*5+
輸入：21+42*2/+33*-
數入：0
```
輸出
```
第1列的計算結果為：17
第2列的計算結果為：-2
```

### 2.中序轉前序
> 利用堆疊(Stack)實作中置轉後置
:::info
- 只會有 +、-、*、/ 的運算符號
:::
輸入
```
輸入：2+3*2/2-2
輸出：-+2/*3222
輸入：4/2-1+2*3-4*1
輸出：-+-/421*23*41
```

## 課堂練習加分題
### 3.亂數產生器
> 現有一個rand7()如下，作用為產生1~7的隨機數，請利用此函數實作rand10()
```c=
int rand7()
{
  return rand()%7+1;
}
```
:::info
請亂數10000次，並紀錄下每次輸出 1~10 的數量，每個機率平均分配應在 10% 左右，如下所示
:::
:::success
7*7就有49種情況囉～，怎麼把49種情況歸類成10種呢
:::
輸出
```
 1 =&gt; 1007
 2 =&gt; 1006
 3 =&gt; 984
 4 =&gt; 962
 5 =&gt; 1002
 6 =&gt; 1000
 7 =&gt; 1009
 8 =&gt; 1013
 9 =&gt; 1024
10 =&gt; 993
```