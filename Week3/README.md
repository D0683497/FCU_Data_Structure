# 資料結構實習[Week3-鏈結串列]
---

### 鏈結串列 Linked List
- 定義 : 是一種資料結構結構型態，我們可以藉由鏈結串列把資料一個一個串在一起，相較於陣列有著**更彈性的增減數據**的方式。
- 宣告
```c=
    struct Node
    {
        int num;
        struct Node *next;
    };
    struct Node* head = NULL; //定義必要指標 head
```
- 圖示 ![](https://i.imgur.com/KZ5EKhz.png)
- 生成節點
    - 向系統要一塊記憶體空間
    - 回傳該記憶體空間位址
    ```c=
    struct Node* newNode (int num)  //傳入要存入節點之參數
    {
        //向系統要一塊struct Node大小的記憶體空間的指標，存入add中
        struct Node* add=(struct Node*)malloc(sizeof(struct Node));  
        if(add != NULL)
        {
            add->num = num;
            add->next = NULL;
        }
        return add;
    }
    ```
- 插入(加入)節點
    - 找到欲插入之位置
    - 將要插入之節點存入前一個的next
    - 如果後面還有節點，則需將其存入欲插入的next
    ```c=
        //插入尾端，尚未排序
        int Insert()
        {
            int num;
            printf("Insert a number: ");
            scanf(" %d",&num);
            struct Node* add = newNode(num);  //將欲插入值生成節點
            struct Node* ptr = head;  //利用ptr找出欲插入位置
            if(ptr == NULL)  //head為空則存入head
            {
                //課堂練習時完成
            } 
            else //head不為空時，ptr往後找
            {
                //課堂練習時完成
            }
            return 0;
        }
    ```
- 刪除節點
    - 找到欲刪除的節點後，要用free()釋放掉。
    - 欲刪除值在head，需將head改為head的next
![](https://i.imgur.com/yxlcQPe.png)

    ```c=
    int Delete()
    {
        int num;
        printf("Delete a number: ");
        scanf(" %d",&num);
        struct Node* ptr = head;
        struct Node* del = NULL;
        if(ptr == NULL)  //head為空則刪除失敗
        {
            printf("Not in the list!\n");
            return 0;
        }
        else if(ptr->num == num)  //head為欲刪除值
        {
            //課堂練習時完成
        }
        else
        {
            while(ptr->next != NULL)  //尋找整個串列
            {
            
                  //課堂練習時完成
                
            }
            if(ptr->next == NULL)
                printf("Not in the list!\n");
        }
        return 0;
    }
    ```
---
## HW1說明-魔術方塊Magic Square
>第一個數字放在第一行第一列的正中央，然後向左上填，如果左上已有數字，則向下填。若超過邊界，視為上下、左右彼此相連，繼續拜訪。==必須使用遞迴==。

矩陣大小為n*n
| 15  | 8   | 1   | 24  | 17  |
| --- | --- | --- | --- |:---:|
| 16  | 14  | 7   | 5   | 23  |
| 22  | 20  | 13  | 6   |  4  |
| 3   | 21  | 19  | 12  | 10  |
| 9   | 2   | **25**  | 18  | 11  |

- 書面報告
    1.**封面** -- 作業題目、班級、學號、姓名
    2.**題目定義** -- 資料結構及演算法說明(輔以圖例說明)
    3.==原始程式碼==
    4.**執行結果 (含測試資料)**
    5.**心得** -- 遭遇困難及解決過程
    全部以**電腦文書**處理，**列印書面繳交**

---

## 課堂練習
### 1.鏈結串列
> 寫一個循環式表單，完成上述程式，每個選項需用一個副程式來完成。
>
```c=
int main(void){
	int op;
	while(1){
		printf("  操作選項表\n==============\n[1]加入資料\n[2]刪除資料\n[3]列印\n[4]結束\n");
		printf("輸入選項:");
		scanf("%d",&op);
		switch(op){
			case 1:
				...
				break;
			case 2:
				...
				break;
			case 3:
				...
				break;
			case 4:
				return 0;
			default:
				printf("ERROR!!!!\n");
				return 0;	
		}
	}
}
```
> 
```
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 2
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 9
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 5
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 12
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 1
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:3

2->9->5->12->1

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:2
Delete a number: 9
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:3

2->5->12->1

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:2
Delete a number: 12
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:2
Delete a number: 1
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:3

2->5

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 7
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:3

2->5->7

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:4

```
測資
```
1
2
1
9
1
5
1
12
1
1
3
2
9
3
2
12
2
1
3
1
7
3
```
### 2.排序鏈結串列
> 接續第一題，列印結果須由大至小排序
> :::info
> 提示 : 在Insert()做修改，不要插入在尾端，判斷好位置再插入
> :::

```
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 2
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 9
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 5
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 12
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 1
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:3

12->9->5->2->1

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:2
Delete a number: 9
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:3

12->5->2->1

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:2
Delete a number: 12
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:2
Delete a number: 1
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:3

5->2

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 7
  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:3

7->5->2

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:1
Insert a number: 7
7已經存在串列中

  操作選項表
==============
[1]加入資料
[2]刪除資料
[3]列印
[4]結束
輸入選項:4
```
